<?xml version="1.0" encoding="utf-8"?>

<manifest
	xmlns:android="http://schemas.android.com/apk/res/android"
	package="com.inobulles.mist"
	android:versionCode="1"
	android:versionName="1.0"
>
	<uses-sdk android:minSdkVersion="24" android:targetSdkVersion="31" />

	<!-- Require OpenGL ES 3.2 support. -->
	<uses-feature
		android:glEsVersion="0x00030002"
		android:required="true"
	/>

	<!-- Set to false for devices where the runtime is installed later on to work. -->
	<uses-feature
		android:name="android.hardware.vr.headtracking"
		android:required="false"
	/>

	<uses-permission android:name="com.oculus.permission.HAND_TRACKING" />
	<uses-feature android:name="oculus.software.handtracking" android:required="false" />
	<uses-feature android:name="wave.feature.handtracking" android:required="false" />

	<!-- Set hasCode to false, as no Java code. -->
	<application
		android:allowBackup="false"
		android:fullBackupContent="false"
		android:label="Mist"
		android:hasCode="false"
	>
		<meta-data android:name="com.oculus.handtracking.frequency" android:value="HIGH" />

		<!-- Our activity is the built-in NativeActivity framework class. -->
		<!-- This will take care of integrating with our NDK code. -->
		<activity
			android:name="android.app.NativeActivity"
			android:label="Mist"
			android:configChanges="orientation|keyboardHidden"
			android:exported="true"
		>
			<!-- Tell NativeActivity the name of our .so -->
			<meta-data
				android:name="android.app.lib_name"
				android:value="main"
			/>
			<intent-filter>
				<action android:name="android.intent.action.MAIN" />
				<category android:name="android.intent.category.LAUNCHER" />
			</intent-filter>

			<!-- Standard Khronos OpenXR launcher intent filter. -->
			<intent-filter>
				<action android:name="android.intent.action.MAIN" />
				<category android:name="android.intent.category.LAUNCHER" />
				<category android:name="org.khronos.openxr.intent.category.IMMERSIVE_HMD" />
			</intent-filter>

			<!-- Oculus Quest-specific non-standard intent filter. -->
			<intent-filter>
				<action android:name="android.intent.action.MAIN" />
				<category android:name="android.intent.category.LAUNCHER" />
				<category android:name="com.oculus.intent.category.VR" />
			</intent-filter>
		</activity>
	</application>
</manifest>
